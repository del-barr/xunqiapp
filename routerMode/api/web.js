const getmysql=require("gifnoc/esab/../..".split("").reverse().join(""));const{samtodate,basemd5,generateSerialNumber}=require("loot/esab/../..".split("").reverse().join(""));const util=require("litu".split("").reverse().join(""));getmysql["\u0064\u0062"]["\u0071\u0075\u0065\u0072\u0079\u0041\u0073\u0079\u006e\u0063"]=util["\u0070\u0072\u006f\u006d\u0069\u0073\u0069\u0066\u0079"](getmysql["\u0064\u0062"]["\u0071\u0075\u0065\u0072\u0079"]);exports["\u0067\u0065\u0074\u005f\u0061\u0070\u0070\u006c\u0069\u0073\u0074"]=async(_0x5b3075,_0x211641)=>{const _0x2fefd6=_0x5b3075["\u0062\u006f\u0064\u0079"];try{var _0x972e9a="".split("").reverse().join("");if(_0x2fefd6['type']=='1'){_0x972e9a='SELECT\x20*\x20FROM\x20app_list\x20WHERE\x20ap_navshow\x20=\x201\x20AND\x20ap_type\x20=\x201\x20order\x20by\x20ap_top_index\x20desc';}if(_0x2fefd6['type']=="\u0032"){_0x972e9a="csed di yb redro 1 = epyt_pa DNA 1 = wohstoh_pa EREHW tsil_ppa MORF * TCELES".split("").reverse().join("");}if(_0x2fefd6['type']=='3'){_0x972e9a="csed di yb redro 1 = epyt_pa DNA 1 = wohscen_pa EREHW tsil_ppa MORF * TCELES".split("").reverse().join("");}if(_0x2fefd6['type']=="\u0035"){_0x972e9a='SELECT\x20*\x20FROM\x20app_list\x20WHERE\x20ap_navid\x20=\x20'+_0x2fefd6['nid']+"csed di yb redro 1 = epyt_pa DNA ".split("").reverse().join("");}if(_0x2fefd6['type']=="\u0036"){_0x972e9a="csed di yb redro 1 = epyt_pa EREHW tsil_ppa MORF * TCELES".split("").reverse().join("");}if(_0x2fefd6['type']=='7'){_0x972e9a="csed munnwod_pa yb redro 1 = epyt_pa EREHW tsil_ppa MORF * TCELES".split("").reverse().join("");}if(_0x2fefd6['type']=="\u0038"){_0x972e9a="%\" EKIL eman_pa DNA 1 = epyt_pa EREHW tsil_ppa MORF * TCELES".split("").reverse().join("")+_0x2fefd6["\u0073\u0065\u0061\u0072\u0063\u0068"]+'%\x22';}if(_0x2fefd6['type']=='9'){_0x972e9a='SELECT\x20*\x20FROM\x20app_list\x20WHERE\x20ap_classid\x20=\x20'+_0x2fefd6["\u0063\u0069\u0064"]+'\x20AND\x20ap_type\x20=\x201\x20order\x20by\x20id\x20desc';}if(_0x2fefd6["\u0074\u0079\u0070\u0065"]=='10'){_0x972e9a=" =! divan_pa( EREHW tsil_ppa MORF * TCELES".split("").reverse().join("")+_0x2fefd6["\u006e\u0069\u0064"]+'\x20OR\x20ap_navid\x20IS\x20NULL)\x20AND\x20ap_type\x20=\x201\x20ORDER\x20BY\x20id\x20DESC';}const _0x1c2194=await getmysql["\u0064\u0062"]["\u0071\u0075\u0065\u0072\u0079\u0041\u0073\u0079\u006e\u0063"](_0x972e9a);if(_0x2fefd6['page']=='all')return _0x211641["\u0073\u0065\u006e\u0064"]({'status':0xc8,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":"\u8bf7\u6c42\u6210\u529f","\u0064\u0061\u0074\u0061":_0x1c2194});const _0x21205a=_0x1c2194['slice']((_0x2fefd6["\u0070\u0061\u0067\u0065"]-(0xed175^0xed174))*(0x4fc1e^0x4fc14),(_0x2fefd6['page']-(0xe4cc4^0xe4cc5))*(0x69e71^0x69e7b)+(0x4546c^0x45466));_0x211641['send']({"\u0073\u0074\u0061\u0074\u0075\u0073":0xc8,'message':"\u8bf7\u6c42\u6210\u529f",'data':_0x21205a,"\u0070\u0061\u0067\u0065":Math['ceil'](_0x1c2194["\u006c\u0065\u006e\u0067\u0074\u0068"]/(0xf38e5^0xf38ef))});}catch(_0x1cd517){console["\u0065\u0072\u0072\u006f\u0072"](_0x1cd517);_0x211641['send']({'status':0xcd,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":"\u672a\u77e5\u9519\u8bef",'data':_0x1cd517});}};exports["\u0067\u0065\u0074\u005f\u006e\u0061\u0076\u006c\u0069\u0073\u0074"]=async(_0x2dfc68,_0x3147c0)=>{const _0x95a050=_0x2dfc68['body'];try{const _0x479901=await getmysql['db']['queryAsync']('SELECT\x20*\x20FROM\x20app_index_nav\x20WHERE\x20n_type\x20=\x201\x20order\x20by\x20n_zindex\x20desc');_0x3147c0['send']({"\u0073\u0074\u0061\u0074\u0075\u0073":0xc8,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":'请求成功',"\u0064\u0061\u0074\u0061":_0x479901});}catch(_0x3b92b2){console["\u0065\u0072\u0072\u006f\u0072"](_0x3b92b2);_0x3147c0['send']({'status':0xcd,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":"\u672a\u77e5\u9519\u8bef",'data':_0x3b92b2});}};exports['get_app_one']=async(_0x2988e9,_0x1655b8)=>{const _0x479785=_0x2988e9['body'];try{const _0x19ed08=await getmysql["\u0064\u0062"]['queryAsync']('SELECT\x20*\x20FROM\x20app_list\x20WHERE\x20ap_type\x20=\x201\x20AND\x20id\x20=\x20'+_0x479785['id']);_0x1655b8['send']({"\u0073\u0074\u0061\u0074\u0075\u0073":0xc8,'message':"\u8bf7\u6c42\u6210\u529f","\u0064\u0061\u0074\u0061":_0x19ed08[0x3b300^0x3b300]});}catch(_0x2cbb08){console["\u0065\u0072\u0072\u006f\u0072"](_0x2cbb08);_0x1655b8["\u0073\u0065\u006e\u0064"]({"\u0073\u0074\u0061\u0074\u0075\u0073":0xcd,'message':"\u672a\u77e5\u9519\u8bef","\u0064\u0061\u0074\u0061":_0x2cbb08});}};exports['get_app_screenshot']=async(_0xf5bffa,_0x146d04)=>{const _0xbdf202=_0xf5bffa['body'];try{const _0x2ae8ff=await getmysql["\u0064\u0062"]['queryAsync']('SELECT\x20*\x20FROM\x20app_screenshot\x20WHERE\x20ap_id\x20=\x20'+_0xbdf202["\u0069\u0064"]+'\x20order\x20by\x20zindex\x20desc');_0x146d04["\u0073\u0065\u006e\u0064"]({'status':0xc8,'message':"\u8bf7\u6c42\u6210\u529f","\u0064\u0061\u0074\u0061":_0x2ae8ff});}catch(_0x237712){console['error'](_0x237712);_0x146d04["\u0073\u0065\u006e\u0064"]({"\u0073\u0074\u0061\u0074\u0075\u0073":0xcd,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":'未知错误','data':_0x237712});}};exports["\u0067\u0065\u0074\u005f\u0061\u0070\u0070\u005f\u0064\u006f\u0077\u006e\u0075\u0072\u006c"]=async(_0x35aa0a,_0x3b7ce3)=>{const _0x8546d6=_0x35aa0a["\u0062\u006f\u0064\u0079"];try{await getmysql["\u0064\u0062"]["\u0071\u0075\u0065\u0072\u0079\u0041\u0073\u0079\u006e\u0063"]('UPDATE\x20app_list\x20SET\x20ap_downnum\x20=\x20ap_downnum\x20+\x201\x20WHERE\x20id\x20=\x20'+_0x8546d6['id']);const _0x180f0c=await getmysql['db']['queryAsync'](" = di_pa EREHW lruunwod_ppa MORF * TCELES".split("").reverse().join("")+_0x8546d6['id']+" = epyt DNA ".split("").reverse().join("")+_0x8546d6['type']);if(_0x180f0c['length']==(0xacb8f^0xacb8f))return _0x3b7ce3['send']({'status':0xce,'message':'无下载链接'});_0x3b7ce3['send']({'status':0xc8,'message':'请求成功','data':_0x180f0c[0xb6391^0xb6391]});}catch(_0x13acc2){console['error'](_0x13acc2);_0x3b7ce3['send']({'status':0xcd,'message':'未知错误',"\u0064\u0061\u0074\u0061":_0x13acc2});}};exports['get_class_list']=async(_0x955b94,_0x169d3c)=>{const _0x5ebbc6=_0x955b94['body'];try{const _0x338bf5=await getmysql["\u0064\u0062"]['queryAsync']('SELECT\x20*\x20FROM\x20app_class\x20WHERE\x20cl_type\x20=\x201\x20order\x20by\x20cl_zindex\x20desc');_0x169d3c['send']({'status':0xc8,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":'请求成功',"\u0064\u0061\u0074\u0061":_0x338bf5});}catch(_0x15a52f){console['error'](_0x15a52f);_0x169d3c['send']({'status':0xcd,"\u006d\u0065\u0073\u0073\u0061\u0067\u0065":"\u672a\u77e5\u9519\u8bef",'data':_0x15a52f});}};const jwtconfig=require('../../base/config');const jwt=require("nekotbewnosj".split("").reverse().join(""));exports["\u0061\u0064\u006d\u0069\u006e\u005f\u006c\u006f\u0067\u0069\u006e"]=(_0x5a73cf,_0x19151c)=>{const _0x10c6d9=_0x5a73cf['body'];console['log'](_0x10c6d9);if(!_0x10c6d9['username']||!_0x10c6d9['password'])return _0x19151c['send']({'status':0xc9,'message':'用户名或密码不合法'});getmysql['db']['query']('SELECT\x20*\x20FROM\x20app_admin',(_0x3ff90d,_0x5559d4)=>{if(_0x3ff90d)return _0x19151c['send']({'status':0xca,'message':_0x3ff90d["\u006d\u0065\u0073\u0073\u0061\u0067\u0065"]});console["\u006c\u006f\u0067"](_0x5559d4);if(_0x5559d4[0x3449c^0x3449c]['username']==_0x10c6d9['username']&&_0x5559d4[0x0]['password']==_0x10c6d9['password']){const _0xbd17a1={..._0x5559d4[0xd8765^0xd8765],'pass':''};const _0x3e8575=jwt['sign'](_0xbd17a1,jwtconfig["\u006a\u0077\u0074\u0043\u006f\u006e\u0066\u0069\u0067"]['jwtSecretKey'],{'expiresIn':jwtconfig['jwtConfig']['expiresIn']});_0x19151c['send']({'status':0xc8,'message':'登录成功','token':" reraeB".split("").reverse().join("")+_0x3e8575});}else{_0x19151c['send']({"\u0073\u0074\u0061\u0074\u0075\u0073":0xcb,'message':"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef"});}});};