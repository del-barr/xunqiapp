/* empty css                        */import{a as D,m as Y,g as q,n as H,o as L,p as Q}from"./api-5c6fbd67.js";import{d as W,u as X,r as f,o as r,c as Z,b as k,a as e,l as a,i as o,t as F,j as d,e as u,M as _,B as ee,G as ae,S as te,J as le,E as ne,Y as ie,a0 as oe,U as se,T as re}from"./index-d6e7f6d7.js";import{_ as de}from"./_plugin-vue_export-helper-c27b6911.js";const ue={class:"boxw"},pe={class:"box-n"},_e={class:"compon"},me={class:"table"},ce=["src"],fe=["src"],we=W({__name:"list",setup(ve){const m=X(),A=f(!1),T=f([]),I=async i=>{let l=await D({type:5,nid:i,page:"all"});l.status==200?T.value=l.data:l.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Manage/login")):l.status==299&&m.push("/Manage/299")},N=f(0),C=f(!1),U=f([]),G=async i=>{let l=await D({type:10,nid:i,page:"all"});l.status==200?U.value=l.data:l.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Admin/login")):l.status==299&&m.push("/Admin/299")},K=async(i,l)=>{let c=await Y({id:i,navid:l});c.status==200?(_.success("操作成功"),G(l),I(l)):c.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Admin/login")):c.status==299?m.push("/Admin/299"):_.warning(c.message)},v=f(!1),O=f([]),h=f(!1),$=f(0),g=f(!1),z=async()=>{let i=await q({});i.status==200?O.value=i.data:i.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Manage/login")):i.status==299&&m.push("/Manage/299")};z();const b=f({}),j=async()=>{let i=await H(b.value);i.status==200?(_.success("新建成功"),h.value=!1,z()):i.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Manage/login")):i.status==299?m.push("/Manage/299"):(_.warning(i.message),h.value=!1)},J=i=>{v.value=!0,$.value=i},P=()=>{v.value=!1},R=async()=>{let i=await L({id:$.value});i.status==200?(_.success("删除成功"),v.value=!1,z()):i.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Manage/login")):i.status==299?m.push("/Manage/299"):(_.warning(i.message),v.value=!1)},w=f({}),S=async()=>{let i=await Q(w.value);i.status==200?(_.success("编辑成功"),g.value=!1,z()):i.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),m.push("/Manage/login")):i.status==299?m.push("/Manage/299"):(_.warning(i.message),g.value=!1)};return(i,l)=>{const c=ee,n=ae,p=te,V=le,M=ne,E=ie,B=oe,y=se,s=re;return r(),Z("div",ue,[k("div",pe,[k("div",_e,[e(c,{onClick:l[0]||(l[0]=t=>h.value=!0)},{default:a(()=>[o("新增导航")]),_:1})]),k("div",me,[e(V,{data:O.value,style:{width:"100%",height:"100%"}},{default:a(()=>[e(n,{width:"100",align:"center",label:"id",prop:"id"}),e(n,{width:"150",align:"center",label:"导航名称",prop:"n_name"}),e(n,{width:"150",align:"center",label:"导航权重",prop:"n_zindex"}),e(n,{label:"操作",align:"center",fixed:"right",width:"320"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[e(c,{theme:"primary",size:"small",onClick:x=>(N.value=t.row.id,I(t.row.id),A.value=!0)},{default:a(()=>[o("查看已添加应用")]),_:2},1032,["onClick"]),e(c,{theme:"primary",size:"small",onClick:x=>(N.value=t.row.id,G(t.row.id),C.value=!0)},{default:a(()=>[o("添加应用")]),_:2},1032,["onClick"]),e(c,{theme:"primary",size:"small",onClick:x=>(w.value=t.row,g.value=!0)},{default:a(()=>[o("编辑")]),_:2},1032,["onClick"]),e(c,{theme:"danger",size:"small",onClick:x=>J(t.row.id)},{default:a(()=>[o("删除")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),e(y,{visible:h.value,"onUpdate:visible":l[3]||(l[3]=t=>h.value=t),attach:"body",header:"新增导航","destroy-on-close":"","on-confirm":j},{body:a(()=>[e(B,{class:"newbox"},{default:a(()=>[e(E,{label:"导航名称",name:"name","initial-data":"TDesign"},{default:a(()=>[e(M,{placeholder:"请输入内容",modelValue:b.value.n_name,"onUpdate:modelValue":l[1]||(l[1]=t=>b.value.n_name=t)},null,8,["modelValue"])]),_:1}),e(E,{label:"导航权重",name:"tel","initial-data":"123456"},{default:a(()=>[e(M,{placeholder:"数字越大，越靠前",modelValue:b.value.n_zindex,"onUpdate:modelValue":l[2]||(l[2]=t=>b.value.n_zindex=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"]),e(y,{visible:g.value,"onUpdate:visible":l[6]||(l[6]=t=>g.value=t),attach:"body",header:"编辑导航","destroy-on-close":"","on-confirm":S},{body:a(()=>[e(B,{class:"newbox"},{default:a(()=>[e(E,{label:"导航名称",name:"name","initial-data":"TDesign"},{default:a(()=>[e(M,{placeholder:"请输入内容",modelValue:w.value.n_name,"onUpdate:modelValue":l[4]||(l[4]=t=>w.value.n_name=t)},null,8,["modelValue"])]),_:1}),e(E,{label:"导航权重",name:"tel","initial-data":"123456"},{default:a(()=>[e(M,{placeholder:"数字越大，越靠前",modelValue:w.value.n_zindex,"onUpdate:modelValue":l[5]||(l[5]=t=>w.value.n_zindex=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"]),e(y,{visible:A.value,"onUpdate:visible":l[7]||(l[7]=t=>A.value=t),width:"65%",attach:"body",header:"当前导航下软件","destroy-on-close":"","on-confirm":S},{body:a(()=>[e(V,{data:T.value,style:{width:"100%",height:"100%"}},{default:a(()=>[e(n,{width:"90",align:"center",label:"应用图标",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[k("img",{style:{width:"50px","border-radius":"10px"},src:t.row.ap_icon,alt:""},null,8,ce)]),_:2},1024)]),_:1}),e(n,{width:"150",align:"center",label:"软件名称",prop:"ap_name"}),e(n,{width:"100",align:"center",label:"下载次数",prop:"ap_downnum"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[e(s,{theme:"primary",variant:"outline"},{default:a(()=>[o(F(t.row.ap_downnum)+"次",1)]),_:2},1024)]),_:2},1024)]),_:1}),e(n,{width:"100",align:"center",label:"应用标签",prop:"ap_label"}),e(n,{width:"100",align:"center",label:"应用大小",prop:"ap_size"}),e(n,{width:"90",align:"center",label:"当前状态",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_type=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("正常")]),_:1})):u("",!0),t.row.ap_type!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("关闭")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否热门",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_hotshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_hotshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否必备",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_necshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_necshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否置顶",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_navshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_navshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"100",align:"center",label:"应用评分",prop:"ap_score"}),e(n,{width:"100",align:"center",label:"应用版本",prop:"ap_version"}),e(n,{width:"100",align:"center",label:"置顶权重",prop:"ap_top_index"}),e(n,{width:"300","show-overflow-tooltip":"",align:"center",label:"应用简介",prop:"ap_brief"}),e(n,{label:"操作",align:"center",fixed:"right",width:"120"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[e(c,{theme:"danger",size:"small",onClick:x=>K(t.row.id,99999)},{default:a(()=>[o("移出")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"]),e(y,{visible:C.value,"onUpdate:visible":l[8]||(l[8]=t=>C.value=t),width:"65%",attach:"body",header:"当前导航下软件","destroy-on-close":"","on-confirm":S},{body:a(()=>[e(V,{data:U.value,style:{width:"100%",height:"100%"}},{default:a(()=>[e(n,{width:"90",align:"center",label:"应用图标",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[k("img",{style:{width:"50px","border-radius":"10px"},src:t.row.ap_icon,alt:""},null,8,fe)]),_:2},1024)]),_:1}),e(n,{width:"150",align:"center",label:"软件名称",prop:"ap_name"}),e(n,{width:"100",align:"center",label:"下载次数",prop:"ap_downnum"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[e(s,{theme:"primary",variant:"outline"},{default:a(()=>[o(F(t.row.ap_downnum)+"次",1)]),_:2},1024)]),_:2},1024)]),_:1}),e(n,{width:"100",align:"center",label:"应用标签",prop:"ap_label"}),e(n,{width:"100",align:"center",label:"应用大小",prop:"ap_size"}),e(n,{width:"90",align:"center",label:"当前状态",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_type=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("正常")]),_:1})):u("",!0),t.row.ap_type!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("关闭")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否热门",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_hotshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_hotshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否必备",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_necshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_necshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"90",align:"center",label:"是否置顶",prop:"se_en_uid"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[t.row.ap_navshow=="1"?(r(),d(s,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):u("",!0),t.row.ap_navshow!=="1"?(r(),d(s,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):u("",!0)]),_:2},1024)]),_:1}),e(n,{width:"100",align:"center",label:"应用评分",prop:"ap_score"}),e(n,{width:"100",align:"center",label:"应用版本",prop:"ap_version"}),e(n,{width:"100",align:"center",label:"置顶权重",prop:"ap_top_index"}),e(n,{width:"300","show-overflow-tooltip":"",align:"center",label:"应用简介",prop:"ap_brief"}),e(n,{label:"操作",align:"center",fixed:"right",width:"150"},{default:a(t=>[e(p,{size:"5px"},{default:a(()=>[e(c,{theme:"",size:"small",onClick:x=>K(t.row.id,N.value)},{default:a(()=>[o("添加到当前导航")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"]),e(y,{visible:v.value,header:"警告",body:"此操作将永久删除本条数据 且不可找回","confirm-btn":{content:"确定删除",variant:"base"},"cancel-btn":{content:"我点错了",variant:"outline"},"on-close":P,"on-confirm":R},null,8,["visible"])])])}}});const xe=de(we,[["__scopeId","data-v-d5fc3d75"]]);export{xe as default};
