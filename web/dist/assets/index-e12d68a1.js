/* empty css                        */import{d as H,r as u,u as L,o as i,c as W,b as w,a as e,l as a,j as r,i as o,e as p,t as X,M as _,f as Y,E as Z,B as ee,S as ae,G as te,T as le,J as ne,K as oe,N as se,R as ie,O as ue,P as re,Q as pe,U as de,V as _e}from"./index-d6e7f6d7.js";/* empty css              */import{a as M,h as ce}from"./api-5c6fbd67.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";const ve={class:"boxw"},fe={class:"box-n"},ge={class:"compon"},we={class:"table"},he=["src"],be=H({__name:"index",setup(ye){const h=u(!1),v=L(),x=u([]),E=u(10),k=u(1),N=u(0),V=u(""),b=u(!1),z=u(!1),c=u({}),S=u(""),y=async()=>{let l=await M({page:k.value,type:6});l.status==200?(x.value=l.data,E.value=l.page):l.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),v.push("/Admin/login")):l.status==299?v.push("/Admin/299"):_.warning(l.message)};y();const I=async()=>{},T=l=>{v.push(l)},O=()=>{h.value=!1},P=l=>{h.value=!0,N.value=l},$=()=>{b.value=!1,y()},B=async()=>{let l=await ce({id:N.value});l.status==200?(_.success("删除成功"),h.value=!1,y()):l.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_ADMIN_TOKEN"),v.push("/admin/login")):_.warning(l.message)},D=async()=>{let l=await M({type:8,page:"all",search:V.value});l.status==200?(b.value=!0,l.data?_.success("搜索成功 共计搜索到"+l.data.length+"条数据"):_.success("搜索成功 共计搜索到0条数据"),x.value=l.data):l.status==204?(_.warning("登录失效 请重新登录"),localStorage.removeItem("SEM07_MANAGE_TOKEN"),v.push("/Admin/login")):l.status==299?v.push("/Admin/299"):_.warning(l.message)};return(l,n)=>{const G=Y("lock-on-icon"),K=Z,f=ee,m=ae,s=te,d=le,R=ne,C=oe,g=se,A=ie,j=ue,J=re,Q=pe,U=de,q=_e;return i(),W("div",ve,[w("div",fe,[w("div",ge,[e(K,{type:"text",style:{width:"300px"},modelValue:V.value,"onUpdate:modelValue":n[0]||(n[0]=t=>V.value=t),class:"searchbox",placeholder:"请输入应用名称"},{"prefix-icon":a(()=>[e(G)]),_:1},8,["modelValue"]),b.value?p("",!0):(i(),r(f,{key:0,variant:"outline",onClick:D},{default:a(()=>[o("搜索")]),_:1})),b.value?(i(),r(f,{key:1,variant:"outline",onClick:$},{default:a(()=>[o("取消搜索")]),_:1})):p("",!0),e(f,{onClick:n[1]||(n[1]=t=>T("/admin/newapp"))},{default:a(()=>[o("新增应用")]),_:1})]),w("div",we,[e(R,{data:x.value,style:{width:"100%",height:"100%"}},{default:a(()=>[e(s,{width:"90",align:"center",label:"应用图标",prop:"se_en_uid"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[w("img",{style:{width:"50px","border-radius":"10px"},src:t.row.ap_icon,alt:""},null,8,he)]),_:2},1024)]),_:1}),e(s,{width:"150",align:"center",label:"软件名称",prop:"ap_name"}),e(s,{width:"100",align:"center",label:"下载次数",prop:"ap_downnum"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[e(d,{theme:"primary",variant:"outline"},{default:a(()=>[o(X(t.row.ap_downnum)+"次",1)]),_:2},1024)]),_:2},1024)]),_:1}),e(s,{width:"100",align:"center",label:"应用标签",prop:"ap_label"}),e(s,{width:"100",align:"center",label:"应用大小",prop:"ap_size"}),e(s,{width:"90",align:"center",label:"当前状态",prop:"se_en_uid"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[t.row.ap_type=="1"?(i(),r(d,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("正常")]),_:1})):p("",!0),t.row.ap_type!=="1"?(i(),r(d,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("关闭")]),_:1})):p("",!0)]),_:2},1024)]),_:1}),e(s,{width:"90",align:"center",label:"是否热门",prop:"se_en_uid"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[t.row.ap_hotshow=="1"?(i(),r(d,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):p("",!0),t.row.ap_hotshow!=="1"?(i(),r(d,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):p("",!0)]),_:2},1024)]),_:1}),e(s,{width:"90",align:"center",label:"是否必备",prop:"se_en_uid"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[t.row.ap_necshow=="1"?(i(),r(d,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):p("",!0),t.row.ap_necshow!=="1"?(i(),r(d,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):p("",!0)]),_:2},1024)]),_:1}),e(s,{width:"90",align:"center",label:"是否置顶",prop:"se_en_uid"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[t.row.ap_navshow=="1"?(i(),r(d,{key:0,theme:"primary",variant:"outline"},{default:a(()=>[o("是")]),_:1})):p("",!0),t.row.ap_navshow!=="1"?(i(),r(d,{key:1,theme:"warning",variant:"outline"},{default:a(()=>[o("否")]),_:1})):p("",!0)]),_:2},1024)]),_:1}),e(s,{width:"100",align:"center",label:"应用评分",prop:"ap_score"}),e(s,{width:"100",align:"center",label:"应用版本",prop:"ap_version"}),e(s,{width:"100",align:"center",label:"置顶权重",prop:"ap_top_index"}),e(s,{width:"300","show-overflow-tooltip":"",align:"center",label:"应用简介",prop:"ap_brief"}),e(s,{label:"操作",align:"center",fixed:"right",width:"120"},{default:a(t=>[e(m,{size:"5px"},{default:a(()=>[e(f,{theme:"primary",size:"small",onClick:F=>T("/admin/post/"+t.row.id)},{default:a(()=>[o("编辑")]),_:2},1032,["onClick"]),e(f,{theme:"danger",size:"small",onClick:F=>P(t.row.id)},{default:a(()=>[o("删除")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),e(U,{visible:z.value,"onUpdate:visible":n[7]||(n[7]=t=>z.value=t),header:"编辑企业信息",mode:"modeless",showOverlay:"","on-confirm":I},{body:a(()=>[w("div",null,[e(Q,null,{default:a(()=>[e(g,{label:"企业名称",prop:"username"},{default:a(()=>[e(C,{modelValue:c.value.en_name,"onUpdate:modelValue":n[2]||(n[2]=t=>c.value.en_name=t),placeholder:"请输入本次金额"},null,8,["modelValue"])]),_:1}),e(g,{label:"创始人",prop:"username"},{default:a(()=>[e(C,{modelValue:c.value.en_founder,"onUpdate:modelValue":n[3]||(n[3]=t=>c.value.en_founder=t),placeholder:"可留空"},null,8,["modelValue"])]),_:1}),e(g,{label:"联系方式",prop:"username"},{default:a(()=>[e(C,{modelValue:c.value.en_founder_ipone,"onUpdate:modelValue":n[4]||(n[4]=t=>c.value.en_founder_ipone=t),placeholder:"可留空"},null,8,["modelValue"])]),_:1}),e(g,{label:"当前状态",prop:"username"},{default:a(()=>[e(j,{modelValue:S.value,"onUpdate:modelValue":n[5]||(n[5]=t=>S.value=t)},{default:a(()=>[e(A,{value:"1"},{default:a(()=>[o("正常")]),_:1}),e(A,{value:"2"},{default:a(()=>[o("封禁")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"特权到期",prop:"username"},{default:a(()=>[e(J,{modelValue:c.value.en_vip,"onUpdate:modelValue":n[6]||(n[6]=t=>c.value.en_vip=t),format:"x",valueType:"x",enableTimePicker:""},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["visible"]),e(U,{visible:h.value,header:"警告",body:"此操作将永久删除本条数据 且不可找回","confirm-btn":{content:"确定删除",variant:"base"},"cancel-btn":{content:"我点错了",variant:"outline"},"on-close":O,"on-confirm":B},null,8,["visible"]),e(q,{small:"",background:"",layout:"prev, pager, next","page-count":E.value,"current-page":k.value,"onUpdate:currentPage":n[8]||(n[8]=t=>k.value=t),onCurrentChange:y},null,8,["page-count","current-page"])])])}}});const Ne=me(be,[["__scopeId","data-v-d0181ac2"]]);export{Ne as default};
